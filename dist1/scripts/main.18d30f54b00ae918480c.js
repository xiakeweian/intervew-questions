(self.webpackChunkintervew_questions=self.webpackChunkintervew_questions||[]).push([[179],{2655:(e,t,n)=>{"use strict";var l=n(7294),c=n(745),s=n(6706),r=n(9655),o=n(9250),a=n(8260),u=n(2925),i=(n(3311),n(1032));const m=(0,i.oM)({name:"home",initialState:{value:0,data:[]},reducers:{incremented:(e,t)=>{console.log(e,t),e.value+=1},decremented:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}}}),{incremented:h,decremented:d,incrementByAmount:E}=m.actions,g=m;var p=n(3460);let v=0;const C=()=>{(0,s.v9)((e=>e.posts));const{value:e}=(0,s.v9)((e=>e.home)),[t,n]=(0,l.useState)([]),c=(0,s.I0)(),r=()=>{n(t.concat(l.createElement("button",{key:v,onClick:r},v++)))},o=e=>{c(1===e?h():-1===e?d():E(e))};return l.createElement("div",{className:"App"},l.createElement("button",{onClick:r},"Add"),t.map((e=>e)),l.createElement("div",null,e),l.createElement(p.ZP,{onClick:()=>o(2),plus:"2"},"加2"),l.createElement(p.ZP,{onClick:()=>o(1),plus:"1"},"加1"),l.createElement(p.ZP,{onClick:()=>o(-1),plus:"-1"},"减1"),l.createElement("div",{className:"img"}),l.createElement("div",{className:"container"},l.createElement("div",{className:"cube"})))},k=(0,i.oM)({name:"app",initialState:{},reducers:{}}),f=(0,i.oM)({name:"posts",initialState:[{id:"1",title:"First Post!",content:"Hello!"},{id:"2",title:"Second Post",content:"More text"}],reducers:{}});function b(e){return{[e.name]:e.reducer}}const S={...b(g),...b(k),...b(f)},R=(0,i.xC)({reducer:{...S}});class w extends l.Component{constructor(e){super(e),this.state={count:0,val:0,number:0,counter:0},this.resetState=this.resetState.bind(this)}componentDidMount(){this.setState({count:this.state.count+1}),this.setState({val:this.state.val+1}),console.log(this.state.val,"react18-1111"),this.setState({val:this.state.val+1}),console.log(this.state.val,"react18-2222"),setTimeout((()=>{this.setState({val:this.state.val+1}),console.log(this.state.val,"react18-3333"),this.setState({val:this.state.val+1}),console.log(this.state.val,"react18-4444")}),0),document.getElementById("btn").addEventListener("click",this.changeValue,!1)}resetState(){console.log(this,this.state,"ggg"),this.setState({number:this.state.number+1}),console.log(this.state.number)}setCounter=e=>{this.setState({counter:this.state.counter+e},(()=>{console.log("同步的counter",this.state.counter)})),console.log("异步的counter",this.state.counter)};changeValue=()=>{this.setCounter(1)};render(){return l.createElement("div",null,"count:",this.state.count,l.createElement("div",{className:"set-state-page"},l.createElement("h2",{id:"btn"},"setState page"),this.state.counter))}}const x=(0,s.$j)((e=>{let{home:t}=e;return{home:t}}))((e=>{const t=(0,s.v9)((e=>e.posts),s.wU),[n,c]=(0,l.useState)(0),r=t.map((e=>l.createElement("article",{className:"post-excerpt",key:e.id},l.createElement("h3",null,e.title),l.createElement("p",{className:"post-content"},e.content.substring(0,100)))));return l.createElement("section",{className:"posts-list"},l.createElement("h2",null,"Posts"),r,l.createElement("hr",null),l.createElement("div",null,"count:",n,l.createElement("hr",null),l.createElement("button",{onClick:()=>{c(n+1),console.log("count:",n),c(n+1)}},"+1")),l.createElement("hr",null),l.createElement(w,null))}));n(8356);class y extends l.Component{constructor(e){super(e),this.state={count:0}}componentDidMount(){console.log(`ComponentDidMount=>You clicked ${this.state.count} times`)}render(){return l.createElement("div",null,l.createElement("p",null,"You clicked ",this.state.count," times"),l.createElement("button",{onClick:this.addCount.bind(this)},"Chlick me"))}addCount(){this.setState({count:this.state.count+1})}}const A=y;const D=function(){const[e,t]=(0,l.useState)(0);return(0,l.useEffect)((()=>(console.log(`useEffect=>You clicked ${e} times`),()=>{console.log("====================")})),[e]),l.createElement("div",null,l.createElement("p",null,"You clicked ",e," times"),l.createElement("button",{onClick:()=>{t(e+1)}},"click me"))},M=e=>{const{count:t=0}=e;return l.createElement("div",null,l.createElement("h3",null,"子组件"),l.createElement("p",null,"我是父组件传过来的值",t))},O=()=>{const[e,t]=(0,l.useState)(0);return l.createElement("div",null,l.createElement("h3",null,"父组件"),l.createElement("p",null,e),l.createElement("button",{onClick:()=>t(e+1)},"添加"),l.createElement(M,{count:e}))};const N=function(){const[e,t]=(0,l.useState)(0);return(0,l.useEffect)((()=>{}),[e]),l.createElement("div",null,"guang")},P=(0,l.createContext)(),F=()=>{const e=(0,l.useContext)(P);return console.log(e),l.createElement("div",null,l.createElement("h3",null,"我是createContext的子组件"),l.createElement("p",null,"计数：",e))},L=()=>{const[e,t]=(0,l.useState)(0);return l.createElement("div",null,l.createElement("button",{onClick:()=>t(e+1)},"我是createContext的添加"),l.createElement(P.Provider,{value:e},l.createElement(F,null)))},I=(e,t)=>{console.log(e);const[n,c]=(0,l.useState)(0);(0,l.useImperativeHandle)(t,(()=>({num:n,handleClick:s})),[]);const s=()=>{c(n+1)};return l.createElement("div",null,l.createElement("h3",null,"子组件"),l.createElement("p",null,"我是通过父组件调用我的方法修改的值",n))},j=(0,l.forwardRef)(I),Z=()=>{const e=(0,l.useRef)();return console.log(e.current,"sssjjj"),l.createElement("div",null,l.createElement("p",null,"我是通过ref获取的子组件中的值",e?.current?.num),l.createElement("button",{onClick:()=>{const{num:t,handleClick:n}=e.current;console.log(t,"sss"),n()}},"我是父组件配合useRef获取子组件的属性和方法"),l.createElement(j,{ref:e}))},B=(0,l.createContext)({}),T=()=>{const{color:e,dispatch:t}=(0,l.useContext)(B);return l.createElement("div",null,l.createElement(p.ZP,{onClick:()=>t({type:"UPDATE_COLOR",color:"red"})},"红色"),l.createElement(p.ZP,{onClick:()=>t({type:"UPDATE_COLOR",color:"green"})},"绿色"))},W=()=>{const[e,t]=(0,l.useReducer)(((e,t)=>"UPDATE_COLOR"===t.type?t.color:e),"blue");return l.createElement("div",null,"修改颜色的组件",l.createElement("div",{style:{backgroundColor:e,color:"white",width:200,height:200,textAlign:"center",lineHeight:12,margin:20}},"文字背景的颜色"),l.createElement(B.Provider,{value:{color:e,dispatch:t}},l.createElement(T,null)))};const $=function(e){let{name:t,children:n}=e;const c=(0,l.useMemo)((()=>function(e){return console.log("她来了，她来了。小红向我们走来了"),e+",小红向我们走来了"}(t)),[t]);return l.createElement(l.Fragment,null,l.createElement("div",null,c),l.createElement("div",null,n))};const _=function(){const[e,t]=(0,l.useState)("小红待客状态"),[n,c]=(0,l.useState)("志玲待客状态");return l.createElement(l.Fragment,null,l.createElement("button",{onClick:()=>{t((new Date).getTime())}},"小红"),l.createElement("button",{onClick:()=>{c((new Date).getTime()+",志玲向我们走来了")}},"志玲"),l.createElement($,{name:e},n))};const H=function(){const e=(0,l.useRef)(null),[t,n]=(0,l.useState)("jspang"),c=(0,l.useRef)();return(0,l.useEffect)((()=>{c.current=t,console.log("textRef.current:",c.current)})),l.createElement(l.Fragment,null,l.createElement("input",{ref:e,type:"text"}),l.createElement("button",{onClick:()=>{e.current.value="Hello ,useRef",e.current.style.color="orange",console.log(e.style)}},"在input上展示文字"),l.createElement("br",null),l.createElement("br",null),l.createElement("input",{value:t,onChange:e=>{n(e.target.value)}}))},U=()=>l.createElement("div",null,l.createElement(A,null),l.createElement(D,null),l.createElement(O,null),l.createElement(N,null),l.createElement(L,null),l.createElement(Z,null),l.createElement(W,null),l.createElement(_,null),l.createElement(H,null));class Y extends l.Component{constructor(e){super(e),this.parentRef=(0,l.createRef)(),this.childRef=(0,l.createRef)()}componentDidMount(){console.log("React componentDidMount！"),this.parentRef.current?.addEventListener("click",(()=>{console.log("原生事件：父元素 DOM 冒泡阶段！")})),this.parentRef.current?.addEventListener("click",(()=>{console.log("原生事件：父元素 DOM 捕获阶段！")}),!0),this.childRef.current?.addEventListener("click",(()=>{console.log("原生事件：子元素 DOM 冒泡阶段！")})),this.childRef.current?.addEventListener("click",(()=>{console.log("原生事件：子元素 DOM 捕获阶段！")}),!0),document.addEventListener("click",(e=>{console.log("原生事件：document DOM 捕获阶段！")}),!0),document.addEventListener("click",(e=>{console.log("原生事件：document DOM 冒泡阶段！")}))}parentClickFun=()=>{console.log("React 事件：父元素冒泡阶段！")};childClickFun=()=>{console.log("React 事件：子元素冒泡阶段！")};parentClickCaptureFun=()=>{console.log("React 事件：父元素捕获阶段！")};childClickCaptureFun=()=>{console.log("React 事件：子元素捕获阶段！")};render(){return l.createElement("div",{ref:this.parentRef,onClick:this.parentClickFun,onClickCapture:this.parentClickCaptureFun},l.createElement("div",{ref:this.childRef,onClick:this.childClickFun,onClickCapture:this.childClickCaptureFun},"分析事件执行顺序"))}}const q=Y;n(6502),n(6189),n(8298),n(6763),n(1839);const V=()=>l.createElement("div",null,"问题入口"),z=e=>l.createElement(a.ZP,{locale:u.Z},l.createElement(s.zt,{store:R},l.createElement(r.VK,null,l.createElement(o.Z5,null,l.createElement(o.AW,{path:"/",element:l.createElement(C,null)}),l.createElement(o.AW,{path:"/home",element:l.createElement(x,null)}),l.createElement(o.AW,{path:"/reacthooks",element:l.createElement(U,null)}),l.createElement(o.AW,{path:"/event",element:l.createElement(q,null)}),l.createElement(o.AW,{path:"/questions",element:l.createElement(V,null)})))));n(1954);c.createRoot(document.getElementById("root")).render(l.createElement(z,null))},6189:()=>{class e{constructor(e){this.name=e}getName(){console.log(this.name)}}e.getInstance=function(){let t;return function(n){return t||(t=new e(n)),t}}();let t=e.getInstance("A"),n=e.getInstance("B");console.log(t===n),console.log(t.getName()),console.log(n.getName())},6763:()=>{function e(e){function t(e,t){this.career=e,this.work=t}let n;switch(e){case"coder":return n=["写代码","修Bug"],new t(e,n);case"hr":return n=["招聘","员工信息管理"],new t(e,n);case"driver":return n=["开车"],new t(e,n);case"boss":return n=["喝茶","开会","审批文件"],new t(e,n)}}let t=new e("coder");console.log(t);let n=new e("boss");console.log(n)},8298:()=>{class e{constructor(e,t){this.name=e,this.subject=t,this.subject.attach(this)}update(){console.log(`${this.name}收到state改变为${this.subject.getState()}的消息`)}}let t=new class{constructor(){this.state=0,this.observers=[]}getState(){return this.state}setState(e){this.state=e,this.notifyAllObservers()}attach(e){this.observers.push(e)}notifyAllObservers(){this.observers.forEach((e=>e.update()))}};new e("张三",t),new e("李四",t),new e("王二",t);t.setState(1),t.setState(2),t.setState(3)},1839:()=>{class e{constructor(e){this.list=e.list,this.index=0}next(){return this.hasNext()?this.list[this.index++]:null}hasNext(){return!(this.index>=this.list.length)}}let t=new class{constructor(e){this.list=e}getIterator(){return new e(this)}}([1,2,3,4,5]).getIterator();for(;t.hasNext();)console.log(t.next())},6502:()=>{const e={};const t=function t(n,l){return n.map((n=>{n instanceof Array?t(n,l):e[n]||(l.push(n),e[n]=!0)})),l}([[1,2,2],[3,4,5,5],[6,7,8,9,[11,12,[12,13,[14]]]],10],[]);t.sort(((e,t)=>e-t));!function*(){let e=yield 1,t=yield e+2;console.log(e,t),yield t+3}()}},e=>{e.O(0,[216],(()=>{return t=2655,e(e.s=t);var t}));e.O()}]);